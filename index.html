<html>

<head>
    <title>Need a GIF? Help Yourself!</title>

    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">


      
       <link rel="stylesheet" href=style.css>
</head>

<body>

  <div id="themesButtons">

  </div>
  


    <form id="searchform">
    <label for="searchinput">Add a theme</label>
    <input type="text" id="searchinput"><br>

    <input id="addtheme" type="submit" value="Submit">
    </form>

    <div id="gifs">
    </div>

<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">



	var themes = ['Rainbow Dash', 'Spongebob', 'Vault Boy', 'Dory', 'Elsa', 'Patrick Star', 'Ariel', 'Mr. Krabs', 'Heman', 'Doge', 'Nyan Cat', 'Harry Potter', 'Nickelodeon', 'Power Rangers', '90s', 'Twilight Sparkle', 'Doctor Who', 'Kirby', 'Lego Movie', 'Pinkie Pie'];

	// ========================================================

	// Generic function for displaying movie data 
	function renderButtons(){ 

			// Deletes the themes prior to adding new themes (this is necessary otherwise you will have repeat buttons)

		// $('#themesView').html ('');	
		$('#themesButtons').empty();		

		// Loops through the array of themes
		for (var i = 0; i< themes.length; i++) {
			themes[i];
			var button = $('<button>');
			button.addClass('movie');
			button.text(themes[i]);
			$('#themesButtons').append(button);
		}
	}

	renderButtons();
	// This function handles events where one button is clicked
	$('#addtheme').on('click', function(){

		// This line of code will grab the input from the textbox
		var input = $('#searchinput').val();
		console.log(input);

		// The movie from the textbox is then added to our array
		themes.push(input);
		
		// Our array then runs which handles the processing of our movie array
		renderButtons();


		// We have this line so that users can hit "enter" instead of clicking on ht button and it won't move to the next page
		return false;

	})

	$('button').on('click', function() {
		var p = $(this).data('searchinput'); //what goes here?
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + p + "&api_key=dc6zaTOxFJmzC&limit=10";

        $.ajax({ url: queryURL, method: 'GET'})

            .done(function(response) {
                
                 var imageUrl = response.data.image_original_url;

   var rating = results[i].rating;

                    var p = $('<p>').text("Rating: " + rating);
                // 
                var catImage = $("<img>");
                
                //getting the img url   
                gifDiv.attr('src', imageUrl);
                gifDiv.attr('alt', 'cat image');

            
                    $('#gifs').prepend(gifDiv);
                });
			});

       


</script>

</body>

</html>